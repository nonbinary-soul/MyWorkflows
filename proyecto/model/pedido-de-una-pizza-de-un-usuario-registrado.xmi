<?xml version="1.0" encoding="UTF-8"?>
<proyectomm:ProcesoDeNegocio
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:proyectomm="http://www.example.org/proyectomm"
    nombre="Pedido de una pizza de un usuario registrado">
  <bases_de_datos
      nombre="Pizzeria">
    <tablas
        nombre="tabla_clientes">
      <atributos
          xsi:type="proyectomm:PrimaryKey"
          nombre="dni"/>
      <atributos
          nombre="nombre"
          tipo="TEXT"/>
      <atributos
          nombre="direccion"
          tipo="TEXT"/>
      <atributos
          nombre="telefono"
          tipo="TEXT"/>
      <atributos
          nombre="correo_electronico"
          tipo="TEXT"/>
    </tablas>
    <tablas
        nombre="tabla_pedidos">
      <atributos
          xsi:type="proyectomm:PrimaryKey"
          nombre="numero_de_pedido"/>
      <atributos
          nombre="pizza_seleccionada"
          tipo="TEXT"/>
      <atributos
          xsi:type="proyectomm:ForeignKey"
          nombre="dni_cliente"
          referencia_a="//@bases_de_datos.0/@tablas.0/@atributos.0"/>
    </tablas>
    <tablas
        nombre="tabla_estado">
      <atributos
          xsi:type="proyectomm:PrimaryKey"
          nombre="numero_de_registro"/>
      <atributos
          xsi:type="proyectomm:ForeignKey"
          nombre="numero_de_pedido"
          referencia_a="//@bases_de_datos.0/@tablas.1/@atributos.0"/>
      <atributos
          nombre="timestamp"
          tipo="TEXT"/>
      <atributos
          nombre="estado"
          tipo="BOOLEAN"/>
      <atributos
          nombre="url"
          tipo="TEXT"/>
    </tablas>
    <tablas
        nombre="tabla_valoraciones">
      <atributos
          xsi:type="proyectomm:PrimaryKey"
          nombre="numero_de_valoracion"/>
      <atributos
          xsi:type="proyectomm:ForeignKey"
          nombre="numero_de_pedido"
          referencia_a="//@bases_de_datos.0/@tablas.1/@atributos.0"/>
      <atributos
          nombre="valoracion"/>
    </tablas>
  </bases_de_datos>
  <actores nombre="Cliente">
    <tareas
        xsi:type="proyectomm:Inicio"
        sucesor="//@actores.0/@tareas.1"/>
    <tareas
        xsi:type="proyectomm:Usuario"
        sucesor="1"
        predecesor="//@actores.0/@tareas.0"
        nombre="rellenar forms para hacer pedido"/>
    <tareas
        xsi:type="proyectomm:Envio"
        sucesor="2"
        predecesor="//@actores.0/@tareas.1"
        id="1"
        nombre="Enviar datos del pedido"
        datos_adjuntos="tabla_pedidos"/>
    <tareas
        xsi:type="proyectomm:Fin"/>
  </actores>
  <actores nombre="PizzerÃ­a">
    <tareas
        xsi:type="proyectomm:Recepcion"
        predecesor="1"
        id="2"
        nombre="Recibir pedido"/>
  </actores>
</proyectomm:ProcesoDeNegocio>
